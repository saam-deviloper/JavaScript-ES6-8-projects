<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>calculator</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>
    <style>
      #calDiv {
        position: absolute;
        top: 50px;
        left: 80px;
        background-color: beige;
        padding: 5px 5px 5px 5px;
        border-radius: 10px;
      }
      #disp {
        text-align: right;
        padding: 10px 10px 10px 0px;
        height: 65px;
        border-top-left-radius: 5px;
        border-top-right-radius: 5px;
        font-weight: bold;
        font-size: 28px;
      }
      .btn {
        width: 58px;
        height: 61px;
        margin-right: 3px;
        margin-left: 3px;
        font-weight: bold;
      }
      #result {
        background-color: #ffc107;
      }
    </style>
  </head>
  <body class="container">
    <div id="calDiv" class="bg-opacity-50 .d-md-flex shadow-lg">
      <div id="disp" class="bg-opacity-50 bg-secondary">0</div>
      <div id="buttons" class="text-center tex">
        <div class="d-flex flex-row">
          <button id="btnCa" class="btn bg-danger mt-2">CA</button>
          <button id="btnC" class="btn bg-danger mt-2">C</button>
          <button class="btn bg-warning mt-2">%</button>
          <button class="btn bg-warning mt-2">*</button>
        </div>
        <div class="d-flex flex-row">
          <button class="btn bg-primary mt-2">7</button>
          <button class="btn bg-primary mt-2">8</button>
          <button class="btn bg-primary mt-2">9</button>
          <button class="btn bg-warning mt-2">/</button>
        </div>
        <div class="d-flex flex-row">
          <button class="btn bg-primary mt-2">4</button>
          <button class="btn bg-primary mt-2">5</button>
          <button class="btn bg-primary mt-2">6</button>
          <button class="btn bg-warning mt-2">-</button>
        </div>
        <div class="d-flex flex-row">
          <button class="btn bg-primary mt-2">1</button>
          <button class="btn bg-primary mt-2">2</button>
          <button class="btn bg-primary mt-2">3</button>
          <button class="btn bg-warning mt-2">+</button>
        </div>
        <div class="d-flex flex-row">
          <button class="btn bg-primary mt-2 w-50">0</button>
          <button class="btn bg-warning mt-2">.</button>
          <button id="result" class="btn mt-2">=</button>
        </div>
      </div>
    </div>
    <div></div>
  </body>
  <script>
    let btnNum = document.querySelectorAll(".bg-primary");
    let btnOp = document.querySelectorAll(".bg-warning");
    let display = document.querySelector("#disp");
    let result = document.querySelector("#result");
    let btnCa = document.querySelector("#btnCa");
    let btnC = document.querySelector("#btnC");

    btnCa.addEventListener("click", () => {
      display.innerText = "0";
    });

    btnC.addEventListener("click", () => {
      let innerValue = display.innerText;
      if (innerValue.length == 1) {
        //display.innerText = innerValue.substring(0, innerValue.length - 1);
        display.innerText = "0";
      } else if (innerValue > 1) {
        display.innerText = innerValue.substring(0, innerValue.length - 1);
      }
    });

    result.addEventListener("click", () => {
      console.log(display.innerText);
      display.innerText = eval(display.innerText);
    });

    const numberDown = (e) => {
      let number = e.target.innerText;
      if (display.innerText == 0) {
        display.innerText = number;
      } else {
        display.innerText += e.target.innerHTML;
      }
    };
    btnNum.forEach((item) => {
      item.addEventListener("click", numberDown);
    });
    btnOp.forEach((item) => {
      item.addEventListener("click", numberDown);
    });

  </script>

</html>
